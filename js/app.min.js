(()=>{"use strict";const e=document.querySelectorAll("[data-spollers]");if(e.length>0){const m=Array.from(e).filter((function(e,t,n){return!e.dataset.spollers.split(",")[0]}));m.length>0&&g(m);const f=Array.from(e).filter((function(e,t,n){return e.dataset.spollers.split(",")[0]}));if(f.length>0){const L=[];f.forEach((e=>{const t={},n=e.dataset.spollers.split(",");t.value=n[0],t.type=n[1]?n[1].trim():"max",t.item=e,L.push(t)}));let w=L.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));w=w.filter((function(e,t,n){return n.indexOf(e)===t})),w.forEach((e=>{const t=e.split(","),n=t[1],o=t[2],i=window.matchMedia(t[0]),s=L.filter((function(e){if(e.value===n&&e.type===o)return!0}));i.addListener((function(){g(s,i)})),g(s,i)}))}function g(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),y(e),e.addEventListener("click",v)):(e.classList.remove("_init"),y(e,!1),e.removeEventListener("click",v))}))}function y(e,t=!0){const n=e.querySelectorAll("[data-spoller]");n.length>0&&n.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function v(e){const t=e.target;if(t.hasAttribute("data-spoller")||t.closest("[data-spoller]")){const o=t.hasAttribute("data-spoller")?t:t.closest("[data-spoller]"),i=o.closest("[data-spollers]"),s=!!i.hasAttribute("data-one-spoller");i.querySelectorAll("._slide").length||(s&&!o.classList.contains("_active")&&h(i),o.classList.toggle("_active"),n(o.nextElementSibling,500)),e.preventDefault(),console.log("так так")}}function h(e){const n=e.querySelector("[data-spoller]._active");n&&(n.classList.remove("_active"),t(n.nextElementSibling,500),console.log("хахаахах"))}}let t=(e,t=500)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t))},n=(e,n=500)=>"none"===window.getComputedStyle(e).display?((e,t=500)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1),e.style.removeProperty("display");let n=window.getComputedStyle(e).display;"none"===n&&(n="block"),e.style.display=n;let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)}})(e,n):t(e,n);console.log("Привет МММММИИИИИsdsdsdsdsdРРРРРРРРРР!"),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll("input[data-tel-input]"),t=function(e){return e.value.replace(/\D/g,"")},n=function(e){var n=e.target,o=t(n),i=e.clipboardData||window.clipboardData;if(i){var s=i.getData("Text");if(/\D/g.test(s))return void(n.value=o)}},o=function(e){var n=e.target,o=t(n),i=n.selectionStart,s="";if(!o)return n.value="";if(n.value.length==i){if(["7","8","9"].indexOf(o[0])>-1){"9"==o[0]&&(o="7"+o);var l="8"==o[0]?"8":"+7";s=n.value=l+" ",o.length>1&&(s+="("+o.substring(1,4)),o.length>=5&&(s+=") "+o.substring(4,7)),o.length>=8&&(s+="-"+o.substring(7,9)),o.length>=10&&(s+="-"+o.substring(9,11))}else s="+"+o.substring(0,16);n.value=s}else e.data&&/\D/g.test(e.data)&&(n.value=o)},i=function(e){var t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")};for(var s of e)s.addEventListener("keydown",i),s.addEventListener("input",o,!1),s.addEventListener("paste",n,!1)}));const o=document.querySelectorAll("._anim-items");if(o.length>0){function A(e){for(let e=0;e<o.length;e++){const t=o[e],n=t.offsetHeight,i=b(t).top,s=4;let l=window.innerHeight-n/s;n>window.innerHeight&&(l=window.innerHeight-window.innerHeight/s),pageYOffset>i-l&&pageYOffset<i+n?t.classList.add("_active"):t.classList.contains("_anim-no-hide")||t.classList.remove("_active")}}function b(e){const t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+o,left:t.left+n}}window.addEventListener("scroll",A),setTimeout((()=>{A()}),300)}const i=document.querySelectorAll(".popup-link"),s=document.querySelector("body"),l=document.querySelectorAll(".lock-padding");let r=!0;if(i.length>0)for(let _=0;_<i.length;_++){const E=i[_];E.addEventListener("click",(function(e){const t=E.getAttribute("href").replace("#","");c(document.getElementById(t)),e.preventDefault()}))}const a=document.querySelectorAll(".close-popup");if(a.length>0)for(let S=0;S<a.length;S++){const P=a[S];P.addEventListener("click",(function(e){d(P.closest(".popup")),e.preventDefault()}))}function c(e){if(e&&r){const t=document.querySelector(".popup.open");t?d(t,!1):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(l.length>0)for(let t=0;t<l.length;t++)l[t].style.paddingRight=e;s.style.paddingRight=e,s.classList.add("lock"),r=!1,setTimeout((function(){r=!0}),300)}(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||d(e.target.closest(".popup"))}))}}function d(e,t=!0){r&&(e.classList.remove("open"),t&&(setTimeout((function(){if(l.length>0)for(let e=0;e<l.length;e++)l[e].style.paddingRight="0px";s.style.paddingRight="0px",s.classList.remove("lock")}),300),r=!1,setTimeout((function(){r=!0}),300)))}document.addEventListener("keydown",(function(e){27===e.which&&d(document.querySelector(".popup.open"))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form");function t(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function n(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function o(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}e.addEventListener("submit",(async function(i){i.preventDefault();let s=function(e){let i=0,s=document.querySelectorAll("._req");for(let e=0;e<s.length;e++){const l=s[e];n(l),l.classList.contains("_email")?o(l)&&(t(l),i++):("checkbox"===l.getAttribute("type")&&!1===l.checked||""===l.value)&&(t(l),i++)}return i}(),l=new FormData(e);if(0===s){e.classList.add("_sending");let t=await fetch("sendmail.php",{method:"POST",body:l});if(t.ok){let n=await t.json();alert(n.message),formPreview.innerHTML="",e.reset(),e.classList.remove("_sending")}else e.classList.remove("_sending")}}))})),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();const u=document.querySelectorAll(".nav_link"),p=document.querySelectorAll(".content");u.forEach((function(e){e.addEventListener("click",(function(){let t=e,n=t.getAttribute("data-tab"),o=document.querySelector(n);t.classList.contains("_active")||(u.forEach((function(e){e.classList.remove("_active")})),p.forEach((function(e){e.classList.remove("_active")})),t.classList.add("_active"),o.classList.add("_active"))}))}))})();